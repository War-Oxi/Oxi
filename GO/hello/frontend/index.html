<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Board</title>
<style>
  body { font-family: Arial, sans-serif; }
  .container { width: 80%; margin: auto; }
  .post { margin-bottom: 20px; }
  .post h2 { margin: 0; }
</style>
</head>
<body>
<div class="container">
  <h1>Simple Board</h1>
  <form id="postForm">
    <input type="text" id="title" placeholder="Title" required />
    <textarea id="content" placeholder="Content" required></textarea>
    <button type="submit">Submit</button>
  </form>
  <div id="posts"></div>
</div>

<script>
document.getElementById('postForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const title = document.getElementById('title').value;
  const content = document.getElementById('content').value;

  fetch('/api/posts', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ title, content })
  })
  .then(response => response.json())
  .then(post => {
    document.getElementById('posts').innerHTML += `<div class="post"><h2>${post.title}</h2><p>${post.content}</p></div>`;
    document.getElementById('title').value = '';
    document.getElementById('content').value = '';
  })
  .catch(error => console.error('Error:', error));
});

function loadPosts() {
  fetch('/api/posts')
  .then(response => response.json())
  .then(posts => {
    posts.forEach(post => {
      document.getElementById('posts').innerHTML += `<div class="post"><h2>${post.title}</h2><p>${post.content}</p></div>`;
    });
  })
  .catch(error => console.error('Error:', error));
}

loadPosts();
</script>
</body>
</html>
